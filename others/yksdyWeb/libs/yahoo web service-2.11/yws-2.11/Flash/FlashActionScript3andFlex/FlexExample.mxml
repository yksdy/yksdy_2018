<?xml version="1.0" encoding="utf-8"?>
<mx:Application 
	xmlns:mx="http://www.adobe.com/2006/mxml"  
	xmlns:yahoo="com.yahoo.webapis.search.*" >

	<!-- The formatter to format the total results with commas -->
	<mx:NumberFormatter id="commaFormatter"/>
	
	<!-- The Service for all types of searches -->
	<yahoo:SearchService id="searchService" applicationId="YahooDemo" query="{criteriaTextInput.text}" type="web" maximumResults="50"/>
	
 	<!-- The form for searching -->
	 <mx:HBox defaultButton="{searchButton}">
	 	
		<mx:TextInput id="criteriaTextInput"/>
		<mx:Button id="searchButton" label="search" click="searchService.send()"/>
			
	</mx:HBox>
	
	<mx:Label text="{commaFormatter.format(searchService.numResultsAvailable)} results" visible="{Boolean(searchService.numResultsAvailable)}"/>
	 
	<!-- The results as a List -->
	<mx:List id="resultsList" showDataTips="true" dataProvider="{searchService.lastResult}" variableRowHeight="true" width="100%" height="100%">
		<mx:itemRenderer>
			<mx:Component>
				<mx:VBox toolTip="{data.summary}" doubleClickEnabled="true" doubleClick="navigateToURL(new URLRequest(data.clickURL), '_blank')">
					<mx:HBox >
						<mx:Label text="{data.index  + 1}" width="25"/>
						<mx:Text text="{data.name}" fontWeight="bold"/>
					</mx:HBox>
					<mx:Image source="{data.thumbnail.url}" />
				 </mx:VBox>
			</mx:Component>
		</mx:itemRenderer>
	</mx:List>
</mx:Application>